# bigcache 源码阅读总结

基于 `v3.0.0` 阅读源码

## 重！！！
在 v2.2.1 对 bytes_queue.go 做了优化。
对存数据长度由原来的固定4字节变成了用 `varint` 来优化。
虽然节省了部分字节(节省不大)，但是引入了很多bug。

在 `v2.2.1 - v3.0.0` （写总结的时候就到 v3.0.0）都有该bug存在。
可以看：https://github.com/allegro/bigcache/issues/253 。

所以如果没有后续版本，最好使用 `v2.2.0` 以及之前的版本。
目前我们线上用的是 `v1.2.1`。
